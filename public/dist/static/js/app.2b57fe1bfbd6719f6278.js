webpackJsonp([1],[,,,,,,,,,function(t,s,e){e(39);var a=e(1)(e(31),e(47),"data-v-a13c13d6",null);t.exports=a.exports},function(t,s,e){"use strict";var a=e(2),i=e(50),n=e(12),o=e.n(n);e(35);a.a.use(i.a);var l=o.a.create({baseURL:"//bcw-getter.herokuapp.com/?url="+encodeURIComponent("https://itunes.apple.com/search?term="),timeout:3e4}),c=!window.location.host.includes("localhost"),r=c?"//vue-music-trevor.herokuapp.com/":"//localhost:3000/",u=o.a.create({baseURL:r+"api/",timeout:3e4}),d=new i.a.Store({state:{searchResults:[],playlists:[],activePlaylist:{}},mutations:{setSearchResults:function(t,s){t.searchResults=s},setMyPlaylists:function(t,s){t.playlists=s},setActivePlaylist:function(t,s){t.activePlaylist=s,console.log("active playlist",s.name,s._id)}},actions:{searchItunes:function(t,s){var e=t.commit;t.dispatch;l.get(s).then(function(t){e("setSearchResults",t.data.results)})},getMyPlaylists:function(t){var s=t.commit;t.dispatch;u.get("playlists").then(function(t){s("setMyPlaylists",t.data)})},setActivePlaylist:function(t,s){var e=t.commit;t.dispatch;u.get("playlists/"+s._id+"/songs").then(function(t){e("setActivePlaylist",s)}).catch(function(t){console.error(t)})},createPlaylist:function(t,s){var e=t.commit;t.dispatch;u.post("playlists",s).then(function(t){e("setMyPlaylists",t.data)}).catch(function(t){console.error(t)})},addSong:function(t,s){var e=(t.commit,t.dispatch);console.log("Added Song",s),u.post("playlists/"+s.playlistId+"/songs",s).then(function(t){e("addToDBPlaylist",t.data),e("setActivePlaylist",d.state.activePlaylist)}).catch(function(t){console.error(t)})},addToDBPlaylist:function(t,s){var e=t.commit;t.dispatch;u.post("playlists/"+s.playlistId,s).then(function(t){e("setActivePlaylist",t.data)})},updatePlaylist:function(t,s){var e=t.commit;t.dispatch;u.put("playlists/"+s.playlist._id+"/songs/",s.order).then(function(t){console.log("update data res: ",t.data),e("setActivePlaylist",t.data)})},activePlaylistSongsRemoval:function(t,s){var e=t.commit;t.dispatch;u.put("playlists/"+s.playlistId,s).then(function(t){e("setActivePlaylist",t.data)}).catch(function(t){console.error(t)})},removePlaylist:function(t,s){t.commit,t.dispatch;u.delete("playlists/"+s._id).then(function(t){}).catch(function(t){console.error(t)})},removeSong:function(t,s){t.commit,t.dispatch;u.delete("playlists/"+s.playlistId+"/songs/"+s._id).then(function(t){}).catch(function(t){console.error(t)})}}});s.a=d},function(t,s,e){e(37);var a=e(1)(e(30),e(45),null,null);t.exports=a.exports},,,,,,,,,,,,,,,,,,,function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(9),i=e.n(a);s.default={name:"app",components:{Home:i.a}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(43),i=e.n(a),n=e(42),o=e.n(n);s.default={name:"home",data:function(){return{}},methods:{},components:{Itunes:o.a,MyTunes:i.a}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"iTunes",props:["song"],mounted:function(){},data:function(){return{artist:""}},methods:{searchItunes:function(t){this.$store.dispatch("searchItunes",this.artist)},addSong:function(t){for(var s=this.$store.state.activePlaylist.songs,e=0;e<s.length;e++){if(s[e].trackId==t.trackId)return alert(t.trackName+" is already on your playlist")}t.playlistId=this.$store.state.activePlaylist._id,this.activePlaylist.songs.push(t),this.$store.dispatch("addSong",t)},pausePlayback:function(t){for(var s=document.getElementsByClassName("players"),e=0;e<s.length;e++)s[e]!=t.target&&s[e].pause()}},computed:{searchResults:function(){return this.$store.state.searchResults},activePlaylist:function(){return this.$store.state.activePlaylist}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default={name:"My-Tunes",mounted:function(){this.$store.dispatch("getMyPlaylists")},data:function(){return{newPlaylist:{name:"",songs:[]}}},methods:{createPlaylist:function(){this.$store.dispatch("createPlaylist",this.newPlaylist)},setActivePlaylist:function(t){this.$store.dispatch("setActivePlaylist",t)},removePlaylist:function(t){this.$store.dispatch("removePlaylist",t)},removeSong:function(t){this.$store.dispatch("removeSong",t),this.$store.dispatch("activePlaylistSongsRemoval",t)},promoteSong:function(t){for(var s=[],e=this.$store.state.activePlaylist.songs,a=0;a<e.length;a++){if(e[a]._id==t._id){if(0==a)return void alert("This is already at the top of your list!");e.splice(a,1),e.splice(a-1,0,t)}}for(var i=0;i<e.length;i++){var n=e[i];s[i]=n._id}var o=this.$store.state.activePlaylist;this.$store.dispatch("updatePlaylist",{playlist:o,order:s})},demoteSong:function(t){for(var s=[],e=this.$store.state.activePlaylist.songs,a=0;a<e.length;a++){if(e[a]._id==t._id){if(a==e.length-1)return void alert("This is already at the bottom of your list!");e.splice(a,1),e.splice(a+1,0,t)}}for(var i=0;i<e.length;i++){var n=e[i];s[i]=n._id}var o=this.$store.state.activePlaylist;this.$store.dispatch("updatePlaylist",{playlist:o,order:s})},pausePlayback:function(t){for(var s=document.getElementsByClassName("players"),e=0;e<s.length;e++)s[e]!=t.target&&s[e].pause()}},computed:{activePlaylist:function(){return this.$store.state.activePlaylist},playlists:function(){return this.$store.state.playlists},activeSongs:function(){return this.$store.state.activeSongs}},watch:{playlists:function(t,s){this.$store.dispatch("getMyPlaylists",t)}}}},function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e(2),i=e(11),n=e.n(i),o=e(10);new a.a({el:"#app",template:"<App/>",store:o.a,components:{App:n.a}})},function(t,s,e){"use strict";var a=e(2),i=e(48),n=e(9),o=e.n(n);a.a.use(i.a);new i.a({routes:[{path:"/",name:"Home",component:o.a}]})},function(t,s){},function(t,s){},function(t,s){},function(t,s){},,,function(t,s,e){e(38);var a=e(1)(e(32),e(46),"data-v-9de3ae30",null);t.exports=a.exports},function(t,s,e){e(36);var a=e(1)(e(33),e(44),"data-v-0beebd69",null);t.exports=a.exports},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"my-tunes col-lg-6 col-sm-12 order-sm-first order-lg-last"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12 d-flex align-items-center justify-content-center playlistHeader"},[e("h2",{staticClass:"d-inline-flex"},[t._v("MyTunes")]),t._v(" "),e("button",{staticClass:"btn playlistBtn dropdown-toggle m-3",attrs:{"data-toggle":"dropdown"}},[t._v("\n                Playlists:\n            ")]),t._v(" "),e("div",{staticClass:"dropdown-menu"},[t._l(t.playlists,function(s){return e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[e("p",{staticClass:"dropdown-option",on:{click:function(e){t.setActivePlaylist(s)}}},[t._v(t._s(s.name))]),t._v(" "),e("i",{staticClass:"fas fa-ban",on:{click:function(e){t.removePlaylist(s)}}})])}),t._v(" "),e("span",[e("form",{staticClass:"dropdown-item playlistForm",attrs:{action:"submit"},on:{submit:function(s){s.preventDefault(),t.createPlaylist(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newPlaylist.name,expression:"newPlaylist.name"}],staticClass:"formInput",attrs:{type:"text",placeholder:"Playlist Name"},domProps:{value:t.newPlaylist.name},on:{input:function(s){s.target.composing||(t.newPlaylist.name=s.target.value)}}}),t._v(" "),e("button",{staticClass:"btn formBtn m-1",attrs:{type:"submit"}},[t._v("Create")])])])],2)]),t._v(" "),e("div",{staticClass:"col-12 d-flex align-items-center justify-content-center "},[e("h3",{staticClass:"m-1"},[t._v(t._s(t.activePlaylist.name))])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("table",{staticClass:"table"},[t._m(0),t._v(" "),t._l(t.activePlaylist.songs,function(s){return e("tbody",[e("tr",[e("td",[e("img",{staticClass:"m-1",attrs:{src:s.artworkUrl60}}),t._v(" "),e("audio",{staticClass:"players",attrs:{controls:""},on:{play:t.pausePlayback}},[e("source",{attrs:{src:s.previewUrl}}),t._v(' type="audio/mpeg')])]),t._v(" "),e("td",[e("p",[t._v(t._s(s.trackName))]),t._v(" "),e("p",[e("strong",[t._v(t._s(s.collectionName))])])]),t._v(" "),e("td",[e("p",[t._v(t._s(s.artistName))])]),t._v(" "),e("td",[e("i",{staticClass:"fas fa-sort-amount-up fa-2x",on:{click:function(e){t.promoteSong(s)}}}),t._v(" "),e("i",{staticClass:"fas fa-sort-amount-down fa-2x",on:{click:function(e){t.demoteSong(s)}}}),t._v(" "),e("i",{staticClass:"fas fa-ban fa-2x",on:{click:function(e){t.removeSong(s)}}})])])])})],2)])])])},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("th",{attrs:{scope:"col"}},[e("h4",[t._v("Cover:")])]),t._v(" "),e("th",{attrs:{scope:"col"}},[e("h4",[t._v("Track/Album:")])]),t._v(" "),e("th",{attrs:{scope:"col"}},[e("h4",[t._v("Artist:")])]),t._v(" "),e("th")])}]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{attrs:{id:"app"}},[e("home")],1)},staticRenderFns:[]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"itunes col-lg-6 col-sm-12 order-sm-last order-lg-first"},[e("div",{staticClass:"row"},[t._m(0),t._v(" "),e("div",{staticClass:"col-12"},[e("form",{staticClass:"form m-1",on:{submit:function(s){s.preventDefault(),t.searchItunes(s)}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.artist,expression:"artist"}],staticClass:"formInput",attrs:{type:"text",placeholder:"Artist Name"},domProps:{value:t.artist},on:{input:function(s){s.target.composing||(t.artist=s.target.value)}}}),t._v(" "),e("button",{staticClass:"btn formBtn",attrs:{type:"submit"}},[t._v("Search")])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("table",{staticClass:"table"},[t._m(1),t._v(" "),t._l(t.searchResults,function(s){return e("tbody",[e("tr",[e("td",[e("img",{staticClass:"m-1",attrs:{src:s.artworkUrl60}}),t._v(" "),e("audio",{staticClass:"players",attrs:{controls:""},on:{play:t.pausePlayback}},[e("source",{attrs:{src:s.previewUrl}}),t._v(' type="audio/mpeg')])]),t._v(" "),e("td",[e("p",[e("strong",[t._v(t._s(s.trackName))])]),t._v(" "),e("p",[t._v("\n                                "+t._s(s.collectionName)+"\n                            ")])]),t._v(" "),e("td",[e("p",[t._v(t._s(s.artistName))])]),t._v(" "),e("td",[e("p",[t._v("$"+t._s(s.trackPrice))]),t._v(" "),e("i",{staticClass:"fas fa-plus fa-2x",on:{click:function(e){t.addSong(s)}}})])])])})],2)])])])},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"col-12 searchHeader"},[e("h2",[t._v("iTunes Search")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[e("h4",[t._v("Cover:")])]),t._v(" "),e("th",{attrs:{scope:"col"}},[e("h4",[t._v("Track/Album:")])]),t._v(" "),e("th",{attrs:{scope:"col"}},[e("h4",[t._v("Artist:")])]),t._v(" "),e("th",{attrs:{scope:"col"}},[e("h4",[t._v("Price:")])])])])}]}},function(t,s){t.exports={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"home container-fluid"},[t._m(0),t._v(" "),e("div",{staticClass:"row"},[e("itunes",{staticClass:"itunes"}),t._v(" "),e("my-tunes",{staticClass:"my-tunes"})],1)])},staticRenderFns:[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"row header"},[e("div",{staticClass:"col-sm-12 d-flex justify-content-center"},[e("h1",[t._v("Welcome to My-Tunes!")])])])}]}}],[34]);
//# sourceMappingURL=app.2b57fe1bfbd6719f6278.js.map